<!doctype html>
<html class="checker">
<head>
  <meta charset="utf-8">
  <title>AlphaJpg (SVG no Javascript)</title>
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="./css/prettify.css">
  <link rel="stylesheet" href="./css/sunburst.css">
  <link rel="stylesheet" href="./css/screen.css">
  <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow" rel="stylesheet">
</head>
<body>

  <header class="header">
    <div class="header__inner">
      <a class="header__back-bttn bttn" href="index.html">Back</a>
      <a id="about-open" href="javascript:void(0);" class="header__label">SVG (No JS Required)<span class="header__icon" title="More Info"></span></a>
      <a id="source-open" class="header__source-bttn bttn" href="javascript:void(0);">View Source</a>
    </div>
  </header>
  <div id="source-code" class="app">

    <div id="myImage" class="preserveAspectRatio"><div>
      <svg viewBox="0 0 640 494" width="640" height="494">
        <defs>
          <filter id="alphajpg" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" primitiveUnits="userSpaceOnUse" x="0" y="0" width="640" height="988">
            <feImage xlink:href="./img/test0.alpha.jpg" result="orig_img"/>
            <feOffset dx="0" dy="-494" in="orig_img" result="mask_img"/>
            <feColorMatrix in="mask_img" result="mask_alpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -1 0 0 0 1"/>
            <feComposite in="orig_img" in2="mask_alpha" operator="arithmetic" k1="0" k2="1" k3="-1" k4="0" />
          </filter>
        </defs>
        <rect x="0" y="0" width="640" height="494" style="filter:url(#alphajpg);"/>
      </svg>
    </div></div>  

  </div>

  <div id="source-overlay" class="modal-overlay">
    <a id="source-close" class="close-bttn" href="javascript:void(0);" title="Close"></a>
    <div id="source-body" class="modal-body">
      <pre id="source-pre" class="prettyprint"></pre>
    </div>
  </div>

  <div id="about-overlay" class="modal-overlay">
    <a id="about-close" class="close-bttn" href="javascript:void(0);" title="Close"></a>
    <div id="about-body" class="modal-body">
      <div class="about-inner">
        <h2>Description</h2>
        This demo shows the basic usage of the
        <a href="../js/AlphaJpg-Canvas.js" target="_blank" rel="noopener">AlphaJpg-Canvas.js</a>
        library.  A specially crafted 
        <a href="img/test0.alpha.jpg" target="_blank" rel="noopener">jpg image</a>
        is loaded from the website's domain. It's alpha transparency is reconstructed 
        using HTML5 canvas. The returned canvas element is attached to the DOM. 
        The canvas is wrapped in two div elements and styled so that it behaves like 
        a responsive image.<br>
        <h2>Support</h2>
        This technique requires Javascript and browser 
        <a href="https://caniuse.com/#feat=canvas" target="_blank" rel="noopener">canvas support</a>.
      </div>
    </div>
  </div>

  <script src="./js/prettify.js"></script>
  <script src="./js/demo.js"></script>

</body>
</html>