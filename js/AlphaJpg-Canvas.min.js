var AlphaJpg_Canvas=function(){var t=null,a=null,e=null,n=null,r=function(){var e=arguments.length>0&&!!arguments[0];return function(){if(null!==t)return t;var a=document.createElement("CANVAS");return t=!(!a.getContext||!a.getContext("2d"))}()&&(!e||e&&function(){if(null!==a)return a;var t=document.createElement("CANVAS");return t.width=t.height=1,a="function"==typeof t.toDataURL&&0===t.toDataURL().indexOf("data:")}())},o=function(t){var a=window.location;try{return new URL(t).origin===a.origin}catch(o){var e,n,r=document.createElement("A");return r.href=t,document.head.appendChild(r),r.href=r.href,e=(r.protocol+"//"+r.host).replace(/:\d+/,"").toLowerCase(),n=(a.protocol+"//"+a.host).replace(/:\d+/,"").toLowerCase(),document.head.removeChild(r),e===n}},i=function(t,a,e){var r,o,i,u,d,l,c=document.createElement("CANVAS"),h=c.getContext("2d"),f=t.naturalWidth,g=t.naturalHeight;for(c.width=f,c.height=g,h.drawImage(t,0,0,f,g),u=h.getImageData(0,0,f,g),c.height=Math.floor(g/2),i=Math.floor(u.data.length/2),r=0;r<i;r+=4)o=i+r,0===(d=u.data[o])?u.data[r]=u.data[r+1]=u.data[r+2]=u.data[r+3]=0:(l=255/d,u.data[r+0]=Math.round(u.data[r+0]*l),u.data[r+1]=Math.round(u.data[r+1]*l),u.data[r+2]=Math.round(u.data[r+2]*l),u.data[r+3]=d);(null!==n?n:n=!!navigator.userAgent.match(/(Android)/gi)&&"function"==typeof window.createImageBitmap)?createImageBitmap(u).then(function(t){h.drawImage(t,0,0),a(e?c.toDataURL():c)}):(h.putImageData(u,0,0),a(e?c.toDataURL():c))};return{isSupported:r,load:function(t,a){var n,u=arguments.length>2&&!!arguments[2];"string"==typeof t&&"function"==typeof a&&r(u)?((n=new Image).onload=function(){!function(){if(null!==e)return e;var t=navigator.appVersion;return e=-1!==t.indexOf("MSIE")&&parseFloat(t.split("MSIE")[1])<=9}()?i(n,a,u):setTimeout(function(){i(n,a,u)},300)},n.onerror=function(){a(!1)},o(t)||(n.crossOrigin=""),n.src=t):a(!1)}}}();
